!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@egjs/flicking"),require("@angular/core"),require("@angular/common"),require("@egjs/list-differ")):"function"==typeof define&&define.amd?define("@egjs/ngx-flicking",["exports","@egjs/flicking","@angular/core","@angular/common","@egjs/list-differ"],t):t(((e=e||self).egjs=e.egjs||{},e.egjs["ngx-flicking"]={}),e.Flicking,e.ng.core,e.ng.common,e.eg.ListDiffer)}(this,(function(e,t,n,i,r){"use strict";var o="default"in t?t.default:t;r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var l=function(){function e(e,t){this._elementref=e,this._renderer=t,this._rendered=!0}return Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this._elementref.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),e.prototype.show=function(e){this._rendered=!0;var t=this.nativeElement,n=e.camera.element;t.parentElement!==n&&this._renderer.appendChild(n,t)},e.prototype.hide=function(e){this._rendered=!1;var t=this.nativeElement,n=e.camera.element;t.parentElement===n&&this._renderer.removeChild(n,t)},e}();l.decorators=[{type:n.Directive,args:[{selector:"[flicking-panel], [FlickingPanel]"}]}],l.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function l(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,i=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}Object.create;var d=Object.keys(t.EVENTS).map((function(e){return t.EVENTS[e]})),g=function(){};!function(e,t,n,i){var r,o=arguments.length,l=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);o>3&&l&&Object.defineProperty(t,n,l)}([t.withFlickingMethods,function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",o)],g.prototype,"_vanillaFlicking",void 0);var h=function(e){function n(t){var n=e.call(this,t)||this;return n._ngxFlicking=t.ngxFlicking,n._ngxRenderer=t.ngxRenderer,n}return c(n,e),n.prototype.render=function(){return s(this,void 0,void 0,(function(){var e,n;return u(this,(function(i){return e=t.getFlickingAttached(this._flicking),(n=this._strategy).updateRenderingPanels(e),n.renderPanels(e),this._resetPanelElementOrder(),[2]}))}))},n.prototype._collectPanels=function(){var e=t.getFlickingAttached(this._flicking),n=this._ngxFlicking.ngxPanels.toArray();this._panels=this._strategy.collectPanels(e,n)},n.prototype._createPanel=function(e,t){return this._strategy.createPanel(e,t)},n.prototype._resetPanelElementOrder=function(){var e=t.getFlickingAttached(this._flicking),n=this._ngxRenderer,i=e.camera.element,r=this._strategy.getRenderingElementsByOrder(e).reverse();r.forEach((function(e,t){var o=r[t-1]?r[t-1]:null;e.nextElementSibling!==o&&n.insertBefore(i,e,o)}))},n}(t.ExternalRenderer),y=function(){function e(e){this._el=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this._el.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rendered",{get:function(){return this._el.rendered},enumerable:!1,configurable:!0}),e.prototype.show=function(e){this._el.show(e)},e.prototype.hide=function(e){this._el.hide(e)},e}(),m=function(e){function l(t,i,o){var l=e.call(this)||this;return l.options={},l.plugins=[],l.hideBeforeInit=!1,l._pluginsDiffer=new r,l._elementDiffer=null,l._elRef=t,l._ngxRenderer=i,l._platformId=o,l._vanillaFlicking=null,d.forEach((function(e){l[e]=new n.EventEmitter})),l}return c(l,e),Object.defineProperty(l.prototype,"isVertical",{get:function(){return!1===this.options.horizontal},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isHiddenBeforeInit",{get:function(){var e=this._vanillaFlicking&&this._vanillaFlicking.initialized;return this.hideBeforeInit&&!e},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"cameraStyleBeforeInit",{get:function(){return!(this._vanillaFlicking&&this._vanillaFlicking.initialized)&&this.firstPanelSize?{transform:t.getDefaultCameraTransform(this.options.align,this.options.horizontal,this.firstPanelSize)}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ngxPanels",{get:function(){return this._ngxPanels},enumerable:!1,configurable:!0}),l.prototype.ngAfterViewInit=function(){var e=this;if(i.isPlatformBrowser(this._platformId)){var n=this.options,l=this._elRef.nativeElement,a=n.virtual&&n.panelsPerView>0,c={ngxFlicking:this,ngxRenderer:this._ngxRenderer,strategy:a?new t.VirtualRenderingStrategy:new t.NormalRenderingStrategy({providerCtor:y,panelCtor:t.ExternalPanel})};a&&this._initVirtualElements();var s=new o(l,Object.assign(Object.assign({},this.options),{renderExternal:{renderer:h,rendererOptions:c}}));this._vanillaFlicking=s;var u=new r(this._ngxPanels.toArray());this._elementDiffer=u,this._bindEvents(),this._checkPlugins(),this.status&&s.setStatus(this.status),this._ngxPanels.changes.subscribe((function(){var n=e._ngxPanels.toArray(),i=u.update(n);t.sync(s,i,f(i.maintained.map((function(e){var t=p(e,2),n=(t[0],t[1]);return i.list[n]})),i.added.map((function(e){return i.list[e]}))))}))}},l.prototype.ngOnDestroy=function(){this._vanillaFlicking&&this._vanillaFlicking.destroy()},l.prototype.ngOnChanges=function(){var e=this._vanillaFlicking;e&&(e.renderer.forceRenderAllPanels(),this._checkPlugins())},l.prototype._bindEvents=function(){var e=this,t=this._vanillaFlicking;d.forEach((function(n){t.on(n,(function(t){var i=e[n];t.currentTarget=e,i&&i.emit(t)}))}))},l.prototype._checkPlugins=function(){var e=this._vanillaFlicking;if(e){var t=this._pluginsDiffer.update(this.plugins),n=t.list,i=t.added,r=t.removed,o=t.prevList;e.addPlugins.apply(e,f(i.map((function(e){return n[e]})))),e.removePlugins.apply(e,f(r.map((function(e){return o[e]}))))}},l.prototype._initVirtualElements=function(){var e=this.options,n=this._ngxRenderer,i=this._elRef.nativeElement.firstElementChild,r=e.panelsPerView,o=e.virtual,l=document.createDocumentFragment();t.range(r+1).map((function(e){var i,r=n.createElement("div");return r.className=null!==(i=o.panelClass)&&void 0!==i?i:t.CLASS.DEFAULT_VIRTUAL,r.dataset.elementIndex=e.toString(),r})).forEach((function(e){l.appendChild(e)})),n.appendChild(i,l)},l}(g);m.decorators=[{type:n.Component,args:[{selector:"ngx-flicking, [NgxFlicking]",template:'\n    <div class="flicking-camera" [ngStyle]="cameraStyleBeforeInit">\n      <ng-content></ng-content>\n    </div>\n    <ng-content select="[in-viewport]"></ng-content>',host:{class:"flicking-viewport",style:"display: block;"},encapsulation:n.ViewEncapsulation.None,styles:[".flicking-viewport{overflow:hidden;position:relative}.flicking-camera{-ms-flex-direction:row;-webkit-box-direction:normal;-webkit-box-orient:horizontal;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:row;height:100%;position:relative;width:100%;z-index:1}.flicking-camera>*{-ms-flex-negative:0;flex-shrink:0}.flicking-viewport.vertical,.flicking-viewport.vertical>.flicking-camera{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.flicking-viewport.vertical>.flicking-camera{-ms-flex-direction:column;-webkit-box-direction:normal;-webkit-box-orient:vertical;flex-direction:column}.flicking-viewport.flicking-hidden .flicking-camera>*{visibility:hidden}\n/*# sourceMappingURL=flicking.css.map */"]}]}],m.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2},{type:void 0,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]}]},m.propDecorators={options:[{type:n.Input}],plugins:[{type:n.Input}],status:[{type:n.Input}],hideBeforeInit:[{type:n.Input}],firstPanelSize:[{type:n.Input}],ready:[{type:n.Output}],beforeResize:[{type:n.Output}],afterResize:[{type:n.Output}],holdStart:[{type:n.Output}],holdEnd:[{type:n.Output}],moveStart:[{type:n.Output}],move:[{type:n.Output}],moveEnd:[{type:n.Output}],willChange:[{type:n.Output}],changed:[{type:n.Output}],willRestore:[{type:n.Output}],restored:[{type:n.Output}],select:[{type:n.Output}],needPanel:[{type:n.Output}],visibleChange:[{type:n.Output}],reachEdge:[{type:n.Output}],panelChange:[{type:n.Output}],isVertical:[{type:n.HostBinding,args:["class.vertical"]}],isHiddenBeforeInit:[{type:n.HostBinding,args:["class.flicking-hidden"]}],_ngxPanels:[{type:n.ContentChildren,args:[l]}]};var v=function(){};v.decorators=[{type:n.NgModule,args:[{declarations:[m,l],imports:[i.CommonModule],exports:[m,l]}]}],Object.keys(t).forEach((function(n){"default"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e.NgxFlickingComponent=m,e.NgxFlickingModule=v,e.NgxFlickingPanel=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=egjs-ngx-flicking.umd.min.js.map